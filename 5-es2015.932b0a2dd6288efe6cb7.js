(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{bp0B:function(e,t,a){"use strict";a.r(t),a.d(t,"UsersModule",(function(){return q}));var r=a("ofXK"),n=a("YUcS"),s=a("tk/3"),i=a("3Pt+"),o=a("T1jK"),c=a("fXoL");let b=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[r.b,n.a,s.b,i.e,o.a],r.b,n.a,s.b,i.e,o.a]}),e})();var l=a("tyNb"),u=a("0IaG"),d=a("vkgz");let m=(()=>{class e{constructor(e){this.http=e,this.baseUrl="https://reqres.in/api/users"}getAllUsers(){return this.http.get(this.baseUrl)}getUserDetails(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(Object(d.a)(e=>e))}updateUser(e){return this.http.put(`${this.baseUrl}/${e.id}`,e)}addUser(e){return this.http.post(this.baseUrl,e)}deleteUser(e){return this.http.delete(`${this.baseUrl}/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(c.Vb(s.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=a("XiUz"),p=a("kmnG"),f=a("qFsG"),h=a("bTqV");function v(e,t){1&e&&(c.Rb(0,"mat-error"),c.sc(1,"Field must not be empty"),c.Qb())}function M(e,t){1&e&&(c.Rb(0,"mat-error"),c.sc(1,"E-mail is invalid"),c.Qb())}let R=(()=>{class e{constructor(e,t){this.userService=e,this.passedData=t,this.user={email:"",first_name:"",last_name:"",avatar:""}}ngOnInit(){this.user=this.passedData.newUser}onCreate(){this.userService.addUser(this.user)}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-user-create"]],decls:21,vars:9,consts:[["mat-dialog-title",""],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",3,"ngSubmit"],["createForm","ngForm"],["matInput","","placeholder","first Name","required","","name","first_name","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","last Name","required","","name","last_name","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Email","required","","name","email","type","email","email","",3,"ngModel","ngModelChange"],["email","ngModel"],[4,"ngIf"],["matInput","","placeholder","Avatar","name","avatar","type","text","required","",3,"ngModel","ngModelChange"],["avatar",""],["mat-raised-button","","color","warn",3,"disabled","mat-dialog-close"],["mat-raised-button","","type","button",3,"mat-dialog-close"]],template:function(e,t){if(1&e&&(c.Rb(0,"h1",0),c.sc(1,"create user "),c.Qb(),c.Rb(2,"mat-dialog-content"),c.Rb(3,"form",1,2),c.Zb("ngSubmit",(function(){return t.onCreate()})),c.Rb(5,"mat-form-field"),c.Rb(6,"input",3),c.Zb("ngModelChange",(function(e){return t.user.first_name=e})),c.Qb(),c.Qb(),c.Rb(7,"mat-form-field"),c.Rb(8,"input",4),c.Zb("ngModelChange",(function(e){return t.user.last_name=e})),c.Qb(),c.Qb(),c.Rb(9,"mat-form-field"),c.Rb(10,"input",5,6),c.Zb("ngModelChange",(function(e){return t.user.email=e})),c.Qb(),c.rc(12,v,2,0,"mat-error",7),c.rc(13,M,2,0,"mat-error",7),c.Qb(),c.Rb(14,"mat-form-field"),c.Rb(15,"input",8,9),c.Zb("ngModelChange",(function(e){return t.user.avatar=e})),c.Qb(),c.Qb(),c.Rb(17,"button",10),c.sc(18,"Save"),c.Qb(),c.Rb(19,"button",11),c.sc(20,"cancel"),c.Qb(),c.Qb(),c.Qb()),2&e){const e=c.kc(4),a=c.kc(11);c.Bb(6),c.gc("ngModel",t.user.first_name),c.Bb(2),c.gc("ngModel",t.user.last_name),c.Bb(2),c.gc("ngModel",t.user.email),c.Bb(2),c.gc("ngIf",a.hasError("required")),c.Bb(1),c.gc("ngIf",!a.hasError("required")),c.Bb(2),c.gc("ngModel",t.user.avatar),c.Bb(2),c.gc("disabled",!e.valid)("mat-dialog-close",!0),c.Bb(2),c.gc("mat-dialog-close",!1)}},directives:[u.f,u.d,i.o,i.k,i.l,g.c,g.b,g.d,p.b,f.a,i.b,i.n,i.j,i.m,i.c,r.j,h.b,u.c,p.a],styles:[""]}),e})(),y=(()=>{class e{constructor(e){this.passedData=e}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["ng-component"]],decls:6,vars:2,consts:[["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","type","button",3,"mat-dialog-close"]],template:function(e,t){1&e&&(c.Rb(0,"h2"),c.sc(1,"Are You Sure?"),c.Qb(),c.Rb(2,"button",0),c.sc(3,"Save"),c.Qb(),c.Rb(4,"button",1),c.sc(5,"cancel"),c.Qb()),2&e&&(c.Bb(2),c.gc("mat-dialog-close",!0),c.Bb(2),c.gc("mat-dialog-close",!1))},directives:[h.b,u.c],encapsulation:2}),e})();var Q=a("Wp6s");const x=function(e){return["/users",e]};function _(e,t){if(1&e){const e=c.Sb();c.Rb(0,"mat-card"),c.Rb(1,"mat-card-header"),c.Rb(2,"mat-card-title"),c.sc(3),c.Qb(),c.Qb(),c.Nb(4,"img",6),c.Rb(5,"mat-card-actions"),c.Rb(6,"a",7),c.sc(7,"show Details"),c.Qb(),c.Rb(8,"button",1),c.Zb("click",(function(){c.lc(e);const a=t.$implicit;return c.dc(2).onDelet(a)})),c.sc(9," Delete "),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=t.$implicit;c.Bb(3),c.vc("",e.first_name," ",e.last_name,""),c.Bb(1),c.gc("src",e.avatar,c.mc)("alt",e.email),c.Bb(2),c.gc("routerLink",c.ic(5,x,e.id))}}function w(e,t){if(1&e&&(c.Rb(0,"div"),c.Rb(1,"section",4),c.rc(2,_,10,7,"mat-card",5),c.Qb(),c.Qb()),2&e){const e=c.dc();c.Bb(2),c.gc("ngForOf",e.usersList)}}function B(e,t){1&e&&(c.Rb(0,"div",8),c.Rb(1,"h2"),c.sc(2,"Users List Is Empty"),c.Qb(),c.Qb())}let C=(()=>{class e{constructor(e,t,a){this.userService=e,this.dialog=t,this.router=a,this.user={email:"",first_name:"",last_name:"",avatar:""},this.usersList=[]}ngOnInit(){this.userService.getAllUsers().subscribe(e=>{this.usersList=e.data})}onDelet(e){this.dialog.open(y,{width:"300px",data:{newUser:this.user}}).afterClosed().subscribe(t=>{t&&this.userService.deleteUser(e.id).subscribe(t=>{console.log(e.id),console.log("del",t),this.usersList=this.usersList.filter(t=>t.id!==e.id)})})}openAddMode(){this.dialog.open(R,{width:"600px",height:"600px",data:{newUser:this.user}}).afterClosed().subscribe(e=>{e&&(console.log(this.user,"back"),this.userService.addUser(this.user).subscribe(e=>{console.log("created",e),this.usersList.splice(0,0,e)}))})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m),c.Mb(u.b),c.Mb(l.b))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-users"]],decls:5,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",1,"btn"],["mat-raised-button","","color","warn",3,"click"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxLayoutGap","20px","fxLayout.lt-md","column",1,"card__container"],[4,"ngFor","ngForOf"],["mat-card-image","",3,"src","alt"],["mat-raised-button","","color","primary",3,"routerLink"],["fxLayout","column","fxLayoutAlign","center center"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"button",1),c.Zb("click",(function(){return t.openAddMode()})),c.sc(2," Add user "),c.Qb(),c.Qb(),c.rc(3,w,3,1,"div",2),c.rc(4,B,3,0,"div",3)),2&e&&(c.Bb(3),c.gc("ngIf",t.usersList.length>0),c.Bb(1),c.gc("ngIf",0==t.usersList.length))},directives:[g.c,g.b,g.d,h.b,r.j,r.i,Q.a,Q.c,Q.f,Q.d,Q.b,h.a,l.c],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.card__container[_ngcontent-%COMP%]{width:100%;padding:20px}mat-card[_ngcontent-%COMP%]{min-width:400px;margin:5px}mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:-webkit-linear-gradient(top,#d3d3d3,#fff);box-shadow:-5px -5px 10px grey}.btn[_ngcontent-%COMP%]{margin-top:18px}"]}),e})();function L(e,t){1&e&&(c.Rb(0,"mat-error"),c.sc(1,"Field must not be empty"),c.Qb())}function U(e,t){1&e&&(c.Rb(0,"mat-error"),c.sc(1,"E-mail is invalid"),c.Qb())}let I=(()=>{class e{constructor(e,t){this.userService=e,this.passedData=t}ngOnInit(){this.user=this.passedData.editetedUser}onUpdate(e){this.userService.updateUser({email:e.value.email,first_name:e.value.first_name,last_name:e.value.last_name,avatar:e.value.avatar,id:this.user.id})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-user-edit"]],decls:21,vars:10,consts:[["mat-dialog-title",""],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",3,"ngSubmit"],["updateForm","ngForm"],["matInput","","placeholder","first Name","required","","name","first_name","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","last Name","required","","name","last_name","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Email","name","email","type","email","required","","email","",3,"ngModel","ngModelChange"],["email","ngModel"],[4,"ngIf"],["matInput","","placeholder","Avatar","name","avatar","type","text","required","",3,"ngModel","ngModelChange"],["avatar",""],["mat-raised-button","","color","warn",3,"disabled","mat-dialog-close"],["mat-raised-button","","type","button",3,"mat-dialog-close"]],template:function(e,t){if(1&e){const e=c.Sb();c.Rb(0,"h1",0),c.sc(1),c.Qb(),c.Rb(2,"mat-dialog-content"),c.Rb(3,"form",1,2),c.Zb("ngSubmit",(function(){c.lc(e);const a=c.kc(4);return t.onUpdate(a)})),c.Rb(5,"mat-form-field"),c.Rb(6,"input",3),c.Zb("ngModelChange",(function(e){return t.user.first_name=e})),c.Qb(),c.Qb(),c.Rb(7,"mat-form-field"),c.Rb(8,"input",4),c.Zb("ngModelChange",(function(e){return t.user.last_name=e})),c.Qb(),c.Qb(),c.Rb(9,"mat-form-field"),c.Rb(10,"input",5,6),c.Zb("ngModelChange",(function(e){return t.user.email=e})),c.Qb(),c.rc(12,L,2,0,"mat-error",7),c.rc(13,U,2,0,"mat-error",7),c.Qb(),c.Rb(14,"mat-form-field"),c.Rb(15,"input",8,9),c.Zb("ngModelChange",(function(e){return t.user.avatar=e})),c.Qb(),c.Qb(),c.Rb(17,"button",10),c.sc(18,"Save"),c.Qb(),c.Rb(19,"button",11),c.sc(20,"cancel"),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=c.kc(4),a=c.kc(11);c.Bb(1),c.uc("Edit ",t.user.email," "),c.Bb(5),c.gc("ngModel",t.user.first_name),c.Bb(2),c.gc("ngModel",t.user.last_name),c.Bb(2),c.gc("ngModel",t.user.email),c.Bb(2),c.gc("ngIf",a.hasError("required")),c.Bb(1),c.gc("ngIf",!a.hasError("required")),c.Bb(2),c.gc("ngModel",t.user.avatar),c.Bb(2),c.gc("disabled",!e.valid)("mat-dialog-close",!0),c.Bb(2),c.gc("mat-dialog-close",!1)}},directives:[u.f,u.d,i.o,i.k,i.l,g.c,g.b,g.d,p.b,f.a,i.b,i.n,i.j,i.m,i.c,r.j,h.b,u.c,p.a],styles:[""]}),e})();function k(e,t){if(1&e){const e=c.Sb();c.Rb(0,"div"),c.Rb(1,"mat-card"),c.Rb(2,"mat-card-header"),c.Rb(3,"mat-card-title"),c.sc(4),c.Qb(),c.Qb(),c.Nb(5,"img",1),c.Rb(6,"mat-card-actions"),c.Rb(7,"a",2),c.Zb("click",(function(){return c.lc(e),c.dc().onOpenEdit()})),c.sc(8),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=c.dc();c.Bb(4),c.vc("",e.user.first_name," ",e.user.last_name,""),c.Bb(1),c.gc("src",e.user.avatar,c.mc)("alt",e.user.email),c.Bb(3),c.uc("Edit ",e.user.first_name,"")}}const S=[{path:"",component:C},{path:":id",component:(()=>{class e{constructor(e,t,a,r){this.userService=e,this.aRoute=t,this.dialog=a,this.router=r}ngOnInit(){this.userService.getUserDetails(this.aRoute.snapshot.params.id).subscribe(e=>{this.user=e.data})}onOpenEdit(){this.dialog.open(I,{width:"600px",height:"600px",data:{editetedUser:this.user}}).afterClosed().subscribe(e=>{e&&(console.log(this.user,"back"),this.userService.updateUser(this.user).subscribe(e=>{this.user=e,console.log("updated",e)}))})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m),c.Mb(l.a),c.Mb(u.b),c.Mb(l.b))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-user-details"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-card-image","",3,"src","alt"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&c.rc(0,k,9,5,"div",0),2&e&&c.gc("ngIf",t.user)},directives:[r.j,Q.a,Q.c,Q.f,Q.d,Q.b,h.a],styles:["mat-card[_ngcontent-%COMP%]{width:400px;height:350px;margin:auto;padding:10px}"]}),e})()}];let O=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[l.d.forChild(S)],l.d]}),e})(),q=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[b,O]]}),e})()}}]);